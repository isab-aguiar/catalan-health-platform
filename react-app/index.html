<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="Content-Language" content="pt-BR" />
    <link rel="icon" type="image/png" href="/logo-favicon.png" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>ESF Catalão - Estratégia Saúde da Família</title>

    <link rel="preconnect" href="https://firebase.googleapis.com" crossorigin />
    <link
      rel="preconnect"
      href="https://firestore.googleapis.com"
      crossorigin
    />
    <link rel="preconnect" href="https://storage.googleapis.com" crossorigin />
    <link
      rel="preconnect"
      href="https://identitytoolkit.googleapis.com"
      crossorigin
    />
    <link rel="dns-prefetch" href="https://vlibras.gov.br" />
  </head>
  <body class="overflow-x-hidden">
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>

    <div vw class="enabled">
      <div vw-access-button class="active"></div>
      <div vw-plugin-wrapper>
        <div class="vw-plugin-top-wrapper"></div>
      </div>
    </div>
    <script>
      // Função para inicializar VLibras com tratamento de erro
      function initVLibras() {
        try {
          if (window.VLibras && window.VLibras.Widget) {
            new window.VLibras.Widget('https://vlibras.gov.br/app');

            // Forçar posicionamento após inicialização
            setTimeout(function() {
              var vwDiv = document.querySelector('div[vw].enabled');
              if (vwDiv) {
                vwDiv.style.right = '5px';
                vwDiv.style.left = 'auto';
              }
            }, 500);
          } else {
            // Tentar novamente após um tempo
            setTimeout(initVLibras, 100);
          }
        } catch (error) {
          console.warn('VLibras não pôde ser carregado:', error.message);
        }
      }
    </script>
    <script
      src="https://vlibras.gov.br/app/vlibras-plugin.js"
      onload="initVLibras()"
      onerror="console.warn('Erro ao carregar script VLibras')"
    ></script>

    <style>
      div[vw].enabled {
        position: fixed !important;
        bottom: 160px !important;
        right: 10px !important;
        left: auto !important;
        z-index: 9999 !important;
        opacity: 0.9 !important;
        pointer-events: none !important;
        width: auto !important;
        height: auto !important;
        transform: scale(0.8) !important;
        transform-origin: bottom right !important;
      }

      [vw-access-button] {
        pointer-events: auto !important;
        cursor: pointer !important;
        width: auto !important;
        height: auto !important;
        position: relative !important;
        right: 0 !important;
        left: auto !important;
      }

      [vw-plugin-wrapper] {
        pointer-events: auto !important;
        position: relative !important;
        right: 0 !important;
        left: auto !important;
      }

      [vw-plugin-wrapper] * {
        pointer-events: auto !important;
      }

      @media (max-width: 768px) {
        div[vw].enabled {
          bottom: 130px !important;
          right: 8px !important;
          left: auto !important;
          transform: scale(0.7) !important;
        }
      }
    </style>
  </body>
</html>
